<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
    <title>Rock Paper Scissors</title>
  </head>
  <body>
    <script type="text/javascript">

      let playerScore = 0;
      let computerScore = 0;

      //a function that randomly returns rock, paper or scissors
      function computerPlay() {
        let value = Math.random();
        let comp;
        if (value < 1 / 3) {
          comp = 'Rock';
        } else if (value < 2 / 3) {
          comp = 'Paper';
        } else {
          comp = 'Scissors'
        }
        return comp;
      }

      //a function that plays a single round
      function playRound(playerSelection, computerSelection){
        playerSelection = playerSelection.slice(0, 1).toUpperCase() +
                          playerSelection.slice(1).toLowerCase();

        if ((playerSelection === 'Rock' && computerSelection === 'Scissors') ||
            (playerSelection === 'Paper' && computerSelection === 'Rock') ||
            (playerSelection === 'Scissors' && computerSelection === 'Paper')) {
          console.log('You Win! ' + playerSelection + ' beats ' + computerSelection);
          playerScore++;
        } else if ((playerSelection === 'Rock' && computerSelection === 'Paper') ||
                   (playerSelection === 'Paper' && computerSelection === 'Scissors') ||
                   (playerSelection === 'Scissors' && computerSelection === 'Rock')) {
          console.log('You Lose! ' + computerSelection + ' beats ' + playerSelection);
          computerScore++;
        } else {
          console.log('Draw! You both select ' + playerSelection);
        }
      }

      function game() {
        let selection = window.prompt('Select Rock, Paper or Scissors.');
        playRound(selection, computerPlay());

        if (playerScore === 3) {
          console.log('You Win!');
          console.log('Your Score: ' + playerScore);
          console.log('Computer\'s Score: ' + computerScore);
        } else if (computerScore === 3) {
          console.log('You Lose!');
          console.log('Your Score: ' + playerScore);
          console.log('Computer\'s Score: ' + computerScore);
        } else {
          game();
        }
      }

    </script>

  </body>
</html>
